{
  "feature": "setup-wizard-agent-blend",
  "title": "Blend Setup Wizard with Agent Personality",
  "createdAt": "2026-02-24",
  "consultReport": ".sixty/consult/setup-wizard-agent-blend.md",
  "stories": [
    {
      "id": "SWAB-001",
      "title": "Rewrite Welcome screen with agent personality",
      "type": "frontend",
      "estimate": "20m",
      "status": "complete",
      "dependencies": [],
      "files": [
        "src/components/setup-wizard/SetupWizardWelcome.tsx"
      ],
      "acceptanceCriteria": [
        "Bot icon in blue-to-purple gradient replaces Rocket icon",
        "Heading reads 'Meet Sixty, your AI sales agent'",
        "Subtitle uses first-person agent voice",
        "Step descriptions use agent-voice framing",
        "CTA reads 'Get Started'",
        "Credit incentive card and +20 badges unchanged",
        "Dark mode works correctly"
      ]
    },
    {
      "id": "SWAB-002",
      "title": "Replace numbered stepper with pill-dot indicator",
      "type": "frontend",
      "estimate": "15m",
      "status": "complete",
      "dependencies": [],
      "files": [
        "src/components/setup-wizard/SetupWizardStepper.tsx"
      ],
      "acceptanceCriteria": [
        "Active step: wide blue pill (w-6 h-1.5)",
        "Completed steps: small blue dots (w-1.5 h-1.5 bg-blue-300)",
        "Future steps: small gray dots (w-1.5 h-1.5)",
        "Smooth width transition on step change",
        "Steps remain clickable for direct navigation",
        "No numbered circles or text labels",
        "No connector lines"
      ]
    },
    {
      "id": "SWAB-003",
      "title": "Update all 5 step headers with agent-voice copy",
      "type": "frontend",
      "estimate": "20m",
      "status": "complete",
      "dependencies": [],
      "files": [
        "src/components/setup-wizard/steps/CalendarSetupStep.tsx",
        "src/components/setup-wizard/steps/NotetakerSetupStep.tsx",
        "src/components/setup-wizard/steps/CrmSetupStep.tsx",
        "src/components/setup-wizard/steps/FollowUpSetupStep.tsx",
        "src/components/setup-wizard/steps/TestSetupStep.tsx"
      ],
      "acceptanceCriteria": [
        "All subtitles rewritten in first-person agent voice",
        "Bullet points rewritten in agent voice where applicable",
        "TestSetupStep phase headers use agent voice",
        "No functional changes to OAuth flows or integration logic",
        "Dark mode works correctly"
      ]
    },
    {
      "id": "SWAB-004",
      "title": "Rewrite Complete screen with agent scan and ready state",
      "type": "frontend",
      "estimate": "30m",
      "status": "complete",
      "dependencies": ["SWAB-005"],
      "files": [
        "src/components/setup-wizard/SetupWizardComplete.tsx"
      ],
      "acceptanceCriteria": [
        "Bot icon in blue-to-purple gradient replaces PartyPopper",
        "On mount: calls agent-initial-scan edge function",
        "Scanning state: pulsing Bot icon, Loader2 spinner, 'Sixty is scanning...' heading",
        "Results state: briefing text card + 2x2 stats grid (Active Deals, Stale Deals, Overdue Tasks, Upcoming Meetings)",
        "Credits earned card preserved below results",
        "'What to expect' bullets with emerald Check icons (morning briefing, alerts, feed, settings)",
        "Done button blocked (disabled + spinner) until scan completes",
        "Scan failure shows fallback text gracefully",
        "Dark mode works correctly"
      ]
    },
    {
      "id": "SWAB-005",
      "title": "Auto-create agent persona on wizard completion",
      "type": "frontend",
      "estimate": "15m",
      "status": "complete",
      "dependencies": [],
      "files": [
        "src/components/setup-wizard/SetupWizardComplete.tsx"
      ],
      "acceptanceCriteria": [
        "Calls upsert_agent_persona RPC with defaults (Sixty, concise, balanced, pipeline+meetings, 20:00-08:00 quiet, 08:00 briefing, user timezone)",
        "Fire-and-forget — does not block scan or UI",
        "Handles errors silently (console.error only, no toast)",
        "Only fires once (not on re-renders)"
      ]
    },
    {
      "id": "SWAB-006",
      "title": "Remove AgentActivationFlow and demo page references",
      "type": "cleanup",
      "estimate": "15m",
      "status": "complete",
      "dependencies": ["SWAB-001", "SWAB-002", "SWAB-003", "SWAB-004", "SWAB-005"],
      "files": [
        "src/components/agent/AgentActivationFlow.tsx",
        "src/pages/platform/AgentDemoPage.tsx",
        "src/routes/lazyPages.tsx",
        "src/App.tsx"
      ],
      "acceptanceCriteria": [
        "AgentActivationFlow.tsx deleted",
        "DemoActivationPreview section removed from AgentDemoPage",
        "Show/Hide Activation Flow toggle removed from demo page",
        "No remaining imports of AgentActivationFlow anywhere in codebase",
        "App compiles without errors",
        "AgentDemoPage still renders other demo sections (analytics, feed, persona, notifications)"
      ]
    }
  ],
  "parallelGroups": [
    {
      "stories": ["SWAB-001", "SWAB-002", "SWAB-003"],
      "reason": "No file overlap — Welcome, Stepper, and step files are independent"
    },
    {
      "stories": ["SWAB-004", "SWAB-005"],
      "reason": "Both touch SetupWizardComplete.tsx — run sequentially within this group"
    }
  ],
  "totalEstimate": {
    "optimistic": "1.5 hours",
    "realistic": "2 hours",
    "pessimistic": "2.5 hours"
  }
}
