{
  "project": {
    "name": "sixty-sales-dashboard",
    "stack": {
      "framework": "react-vite",
      "database": "supabase",
      "auth": "supabase-auth",
      "styling": "tailwind"
    }
  },
  "features": [
    {
      "id": "meeting-analytics-redesign",
      "name": "Combined Meeting + Team Analytics Redesign",
      "status": "complete",
      "consultReport": ".sixty/consult/meeting-analytics-redesign.md",
      "createdAt": "2026-02-18T00:00:00Z"
    },
    {
      "id": "settings-page-fixes",
      "name": "Settings Page - TSK-0455 Go-Live Fixes",
      "status": "in_progress",
      "prd": null,
      "taskRef": "TSK-0455",
      "createdAt": "2026-02-18T14:00:00Z"
    }
  ],
  "stories": [
    {
      "id": "MAR-001",
      "feature": "meeting-analytics-redesign",
      "title": "Create SearchHero component with Intelligence page design",
      "type": "frontend",
      "status": "pending",
      "priority": 1,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": ["MAR-003"],
      "parallelWith": ["MAR-002"],
      "estimatedMinutes": 30,
      "acceptance": [
        "SearchHero.tsx created in src/components/meeting-analytics/",
        "Glassmorphism card with gradient accent bar (emerald/teal/cyan)",
        "Large h-14 search input with icon badge, matching Intelligence page",
        "Mode toggle: Semantic Search | Ask Anything (embeds AskAnythingPanel)",
        "Filter bar below search: Team Member, Sentiment, Date, Action Items",
        "Example queries shown when no active query",
        "Search results display with source cards and similarity scores",
        "Full light/dark mode support with no color clashes"
      ],
      "files": [
        "src/components/meeting-analytics/SearchHero.tsx",
        "src/components/meeting-analytics/AskAnythingPanel.tsx"
      ]
    },
    {
      "id": "MAR-002",
      "feature": "meeting-analytics-redesign",
      "title": "Create DashboardTab merging Overview and Team Analytics",
      "type": "frontend",
      "status": "pending",
      "priority": 2,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": ["MAR-003"],
      "parallelWith": ["MAR-001"],
      "estimatedMinutes": 30,
      "acceptance": [
        "DashboardTab.tsx created in src/components/meeting-analytics/",
        "Period selector (7d/30d/90d) at top",
        "Merged KPI cards from OverviewTab + TeamKPIGrid (6-8 best metrics, no duplicates)",
        "Side-by-side layout: TeamTrendsChart | TeamComparisonMatrix",
        "Pipeline Health cards row below",
        "Active Alerts section (collapsible)",
        "Imports existing team components (TeamKPIGrid, TeamTrendsChart, TeamComparisonMatrix, MetricDrillDownModal)",
        "Full light/dark mode glassmorphism styling"
      ],
      "files": [
        "src/components/meeting-analytics/DashboardTab.tsx",
        "src/components/meeting-analytics/OverviewTab.tsx"
      ]
    },
    {
      "id": "MAR-003",
      "feature": "meeting-analytics-redesign",
      "title": "Restructure MeetingAnalyticsPage with SearchHero and 4 tabs",
      "type": "frontend",
      "status": "pending",
      "priority": 3,
      "dependencies": { "stories": ["MAR-001", "MAR-002"], "files": [], "schema": [] },
      "blocks": ["MAR-004", "MAR-005", "MAR-006", "MAR-007"],
      "parallelWith": [],
      "estimatedMinutes": 25,
      "acceptance": [
        "Page layout: Header -> SearchHero (always visible) -> Tabs",
        "4 tabs: Dashboard, Transcripts, Insights, Reports",
        "SearchHero rendered above tabs (not inside a tab)",
        "Intelligence page header pattern (icon badge + title + status)",
        "URL params updated for new tab structure",
        "TranscriptDetailSheet still opens on transcript click",
        "Framer Motion animations on page load"
      ],
      "files": [
        "src/pages/MeetingAnalyticsPage.tsx"
      ]
    },
    {
      "id": "MAR-004",
      "feature": "meeting-analytics-redesign",
      "title": "Restyle InsightsTab with glassmorphism and dark mode audit",
      "type": "frontend",
      "status": "pending",
      "priority": 4,
      "dependencies": { "stories": ["MAR-003"] },
      "blocks": ["MAR-007"],
      "parallelWith": ["MAR-005", "MAR-006"],
      "estimatedMinutes": 20,
      "acceptance": [
        "All cards use glassmorphism pattern (bg-white/80 dark:bg-gray-900/40 backdrop-blur-xl rounded-2xl)",
        "Chart colors consistent in both light and dark mode",
        "Recharts wrapped in ResponsiveContainer with proper aspect ratios",
        "Badge colors use standard palette (emerald, red, amber, blue with dark variants)",
        "No hardcoded colors without dark: counterparts"
      ],
      "files": [
        "src/components/meeting-analytics/InsightsTab.tsx"
      ]
    },
    {
      "id": "MAR-005",
      "feature": "meeting-analytics-redesign",
      "title": "Restyle TranscriptsTab, TranscriptDetailSheet, and ReportsTab",
      "type": "frontend",
      "status": "pending",
      "priority": 5,
      "dependencies": { "stories": ["MAR-003"] },
      "blocks": ["MAR-007"],
      "parallelWith": ["MAR-004", "MAR-006"],
      "estimatedMinutes": 30,
      "acceptance": [
        "TranscriptsTab uses glassmorphism cards, consistent table styling",
        "TranscriptDetailSheet has !top-16 !h-[calc(100vh-4rem)] and matching design",
        "ReportsTab report preview and history table match design system",
        "NotificationSettingsDialog matches design system",
        "All components have proper light/dark mode classes"
      ],
      "files": [
        "src/components/meeting-analytics/TranscriptsTab.tsx",
        "src/components/meeting-analytics/TranscriptDetailSheet.tsx",
        "src/components/meeting-analytics/ReportsTab.tsx",
        "src/components/meeting-analytics/NotificationSettingsDialog.tsx"
      ]
    },
    {
      "id": "MAR-006",
      "feature": "meeting-analytics-redesign",
      "title": "Remove standalone Team Analytics page and update routing",
      "type": "frontend",
      "status": "pending",
      "priority": 6,
      "dependencies": { "stories": ["MAR-003"] },
      "blocks": ["MAR-007"],
      "parallelWith": ["MAR-004", "MAR-005"],
      "estimatedMinutes": 15,
      "acceptance": [
        "src/pages/insights/TeamAnalytics.tsx removed or redirects to /meeting-analytics?tab=dashboard",
        "Route in App.tsx updated (redirect /insights/team -> /meeting-analytics)",
        "routeConfig.ts updated",
        "userTypeUtils.ts references updated in both src/ and packages/landing/",
        "lazyPages.tsx export removed or updated",
        "No broken imports across codebase"
      ],
      "files": [
        "src/pages/insights/TeamAnalytics.tsx",
        "src/App.tsx",
        "src/lib/routes/routeConfig.ts",
        "src/routes/lazyPages.tsx",
        "src/lib/utils/userTypeUtils.ts"
      ]
    },
    {
      "id": "MAR-007",
      "feature": "meeting-analytics-redesign",
      "title": "Chart responsiveness fix and full dark/light mode QA pass",
      "type": "qa",
      "status": "pending",
      "priority": 7,
      "dependencies": { "stories": ["MAR-004", "MAR-005", "MAR-006"] },
      "blocks": [],
      "parallelWith": [],
      "estimatedMinutes": 25,
      "acceptance": [
        "All Recharts charts use ResponsiveContainer and render correctly at 320px, 768px, 1024px, 1440px",
        "Chart grid lines, axes, and tooltips themed for both light and dark",
        "Toggle between themes shows no clashing colors anywhere",
        "No light text on light background or dark text on dark background",
        "All badges use consistent color palette with dark: variants",
        "Build passes with no TypeScript errors (npm run build)"
      ],
      "files": [
        "src/components/meeting-analytics/DashboardTab.tsx",
        "src/components/meeting-analytics/InsightsTab.tsx",
        "src/components/meeting-analytics/SearchHero.tsx"
      ]
    }
  ],
    {
      "id": "SET-001",
      "feature": "settings-page-fixes",
      "title": "Unify Profile and Settings/Account pages",
      "type": "frontend",
      "status": "pending",
      "priority": 1,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": ["SET-002", "SET-003"],
      "estimatedMinutes": 20,
      "acceptance": [
        "Settings > Account renders identical content to Profile page (both use Profile.tsx already via AccountSettings.tsx wrapper)",
        "Profile page header says 'Account' not 'Profile Settings' to match Settings navigation",
        "Settings > Account uses SettingsPageWrapper consistently (no duplicate headers)",
        "Dropdown menu 'Profile' navigates to /settings/account instead of /profile (or /profile redirects to /settings/account)"
      ],
      "files": [
        "src/pages/Profile.tsx",
        "src/pages/settings/AccountSettings.tsx",
        "src/components/layout/TopBar.tsx"
      ]
    },
    {
      "id": "SET-002",
      "feature": "settings-page-fixes",
      "title": "Make Appearance settings functional (notifications, language, timezone)",
      "type": "frontend",
      "status": "pending",
      "priority": 2,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": ["SET-001", "SET-003"],
      "estimatedMinutes": 30,
      "acceptance": [
        "Notification preferences toggle on/off and persist to user_settings or profiles table",
        "Language selector is present and saves preference (even if only English for now)",
        "Timezone selector shows user's current timezone and saves changes",
        "All preferences persist across page reload"
      ],
      "files": [
        "src/pages/Preferences.tsx",
        "src/pages/settings/AppearanceSettings.tsx"
      ]
    },
    {
      "id": "SET-003",
      "feature": "settings-page-fixes",
      "title": "Hide non-functional settings sections (Task Auto-Sync, Smart Listening, Proactive Agent, Call Type cog)",
      "type": "frontend",
      "status": "pending",
      "priority": 3,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": ["SET-001", "SET-002"],
      "estimatedMinutes": 15,
      "acceptance": [
        "Task Auto-Sync entry removed from Settings.tsx allSettingsSections array",
        "Smart Listening entry removed from Settings.tsx allSettingsSections array",
        "Proactive Agent entry removed from Settings.tsx allSettingsSections array",
        "Call Type Settings: cog icon (CallTypeWorkflowEditor trigger) hidden per call type row, edit pen icon remains",
        "Routes for hidden pages still work if accessed directly (no crash) but Settings hub doesn't show them"
      ],
      "files": [
        "src/pages/Settings.tsx",
        "src/pages/settings/CallTypeSettings.tsx"
      ]
    },
    {
      "id": "SET-004",
      "feature": "settings-page-fixes",
      "title": "Fix AI Personalization - popup centering and writing style save",
      "type": "bugfix",
      "status": "pending",
      "priority": 4,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": ["SET-005"],
      "estimatedMinutes": 25,
      "acceptance": [
        "'Train from Sent Emails' popup is centered in viewport (Dialog positioning fix)",
        "New Writing Style: creating and saving a style persists the description correctly (not empty '')",
        "Writing style appears in the list with correct name and description after save",
        "Other settings popups audited for centering issues and fixed"
      ],
      "files": [
        "src/pages/settings/AIPersonalizationSettings.tsx"
      ]
    },
    {
      "id": "SET-005",
      "feature": "settings-page-fixes",
      "title": "Test and fix Follow Up Configuration templates",
      "type": "bugfix",
      "status": "pending",
      "priority": 5,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": ["SET-004"],
      "estimatedMinutes": 25,
      "acceptance": [
        "Full Proposal workflow tested - generates output correctly",
        "Quick Followup Email workflow tested - generates output correctly",
        "Client Summary workflow tested - generates output correctly",
        "Any broken workflows have errors surfaced to user with toast feedback"
      ],
      "files": [
        "src/pages/settings/FollowUpSettings.tsx"
      ]
    },
    {
      "id": "SET-006",
      "feature": "settings-page-fixes",
      "title": "Fix Google OAuth sign-in and Workspace toggle persistence",
      "type": "bugfix",
      "status": "pending",
      "priority": 6,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": ["SET-007"],
      "parallelWith": [],
      "estimatedMinutes": 30,
      "acceptance": [
        "Google OAuth sign-in does not fail and log user out",
        "Google Workspace: toggling OFF Gmail/Calendar/Drive and clicking Save persists the changes",
        "Returning to the page shows toggles in their saved OFF state",
        "Test Connection returns meaningful status (or error is handled gracefully with toast)",
        "Service status messages ('Some services have issues') show accurate status"
      ],
      "files": [
        "src/pages/settings/integrations/GoogleWorkspaceIntegrationPage.tsx",
        "src/lib/stores/integrationStore.ts"
      ]
    },
    {
      "id": "SET-007",
      "feature": "settings-page-fixes",
      "title": "Fix Email Sync functionality",
      "type": "bugfix",
      "status": "pending",
      "priority": 7,
      "dependencies": { "stories": ["SET-006"], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": [],
      "estimatedMinutes": 25,
      "acceptance": [
        "Pressing 'Sync Emails' triggers actual email sync operation",
        "Progress indicator shown during sync",
        "Email count updates after sync completes",
        "Error state shown with toast if sync fails"
      ],
      "files": [
        "src/pages/settings/EmailSyncPage.tsx"
      ]
    },
    {
      "id": "SET-008",
      "feature": "settings-page-fixes",
      "title": "Fix Instantly.AI Dashlane autofill issue",
      "type": "bugfix",
      "status": "pending",
      "priority": 8,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": ["SET-009"],
      "estimatedMinutes": 15,
      "acceptance": [
        "API Key input field has autocomplete='off' and data-lpignore='true' and data-1p-ignore attributes",
        "Connect button requires explicit user click (not auto-triggered by input change)",
        "Dashlane/1Password autofill does not trigger automatic connection attempt"
      ],
      "files": [
        "src/pages/settings/InstantlySettings.tsx"
      ]
    },
    {
      "id": "SET-009",
      "feature": "settings-page-fixes",
      "title": "Fix invitation system - role selection, email delivery, and error handling",
      "type": "bugfix",
      "status": "pending",
      "priority": 9,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": ["SET-008"],
      "estimatedMinutes": 30,
      "acceptance": [
        "Selecting 'Member' role in invite form sends invitation with role='member' (not admin)",
        "Invitations list shows correct role that was selected",
        "Admin invites work without 'email delivery failed' error (or error is actionable)",
        "Member invites actually deliver email to destination mailbox",
        "Resend functionality works for pending invitations"
      ],
      "files": [
        "src/pages/settings/OrganizationManagementPage.tsx",
        "src/lib/services/invitationService.ts"
      ]
    },
    {
      "id": "SET-010",
      "feature": "settings-page-fixes",
      "title": "Fix Org Settings - populate Company Website from signup, remove Company Domain",
      "type": "bugfix",
      "status": "pending",
      "priority": 10,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": [],
      "estimatedMinutes": 20,
      "acceptance": [
        "Company Domain field removed from Org Settings UI",
        "Company Website field displays the value set during signup (from organizations.company_website)",
        "Company Website is editable and saves correctly",
        "If company_website is null, field shows empty with placeholder"
      ],
      "files": [
        "src/pages/settings/OrganizationSettingsPage.tsx"
      ]
    },
    {
      "id": "SET-011",
      "feature": "settings-page-fixes",
      "title": "Create Billing & Subscription page with Stripe integration placeholder",
      "type": "frontend",
      "status": "pending",
      "priority": 11,
      "dependencies": { "stories": [], "files": [], "schema": [] },
      "blocks": [],
      "parallelWith": [],
      "estimatedMinutes": 30,
      "acceptance": [
        "New BillingSettingsPage.tsx created at src/pages/settings/",
        "Route /settings/billing registered in App.tsx and routeConfig.ts",
        "Shows current plan (default Â£29/month) with status indicator",
        "Stripe Customer Portal link button (uses Stripe billing portal URL or edge function)",
        "Credit pack top-up section links to existing CreditsSettingsPage or embeds CreditPurchaseModal",
        "If Stripe not yet connected, shows 'Coming soon' or setup instructions"
      ],
      "files": [
        "src/pages/settings/BillingSettingsPage.tsx",
        "src/lib/routes/routeConfig.ts"
      ]
    }
  ],
  "execution": {
    "totalStories": 18,
    "completedStories": 7,
    "currentFeature": "settings-page-fixes",
    "lastUpdated": "2026-02-18T14:00:00Z"
  }
}
